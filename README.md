corroborator
============

Case management with data validation, corroboration, omission and duplication checking

Installation
============



virtualenv should be used for package management
To install virtualenv
[sudo] pip install virtualenv

#### Install local python environment
From the root folder run:

virtualenv --python=python2.7 env --no-site-packages

#### Install required packages
env/bin/pip install -r requirements.txt

#### Set up system celeryd install
On Debian, the configuration file for celeryd exists in /etc/default/celeryd

#### pull in git submodules
git submodule init

git submodule update --recursive

#### Initial db sync
env/bin/python manage.py migrate --settings=[local settings]

Solr Usage
==========

Changes to model schema where new fields are added or removed from Bulletin, Incident or Actor
models will require an update to the solr schema. To do this the schema.xml file must be updated.  
Haystack will generate a new schema.xml file with the command

```
env/bin/python manage.py build_solr_schema > schema.xml --settings=[local settings]
```
from the root dir of the project

you must then copy this file to the conf folder of your solr instance and add this line under the fields section
```
<field name="_version_" type="long" indexed="true" stored="true"/>
```

The schema can then be re-generated by running
```
env/bin/python manage.py rebuild_index --settings=[local settings]
```

