
  <script type="text/javascript">
  var Bootstrap = (function() {
    var locale = '{{locale}}',
        gl_s3_aws_media_url = '{{ MEDIA_URL }}',
        gl_ac_role_list = [],
        gl_ac_relation_list = [],
        gl_ac_crimes_list = [],
        special_global_ac_sources_list = [],
        gl_ac_loc_set = [],
        gl_ac_labels_list = [],
        gl_ac_loc_ac_set = [],
        gl_ac_users_list = [],
        solr_url = '{{ solr_url }}',
        comment_statuses = [],
        predefined_list = [],
        can_assign_users = '{{ can_assign_users }}' === 'True'
        ? true
        : false;
    {% for pds in predefined_search_set %}
        predefined_list.push({
            search_title:     "{{pds.search_title}}",
            search_string:    '{{pds.search_string}}',
            {% autoescape off %}
            actor_filters:    {{pds.actor_filters}},
            bulletin_filters: {{pds.bulletin_filters}},
            incident_filters: {{pds.incident_filters}},
            {% endautoescape %}
            resource_uri:     '/api/v1/predefinedSearch/{{pds.id}}/',
            id:               '{{pds.id}}',
            // some stuff just for frontend purposes
            name_en:          "{{pds.search_title}}",
            search_request:   "predefined_search",
            type:             "predefined_search"
        });
    {% endfor %}
    {%for relation in relation_status_set %}
      gl_ac_relation_list.push({ 
        key:"{{relation.key}}",
        value: "{{relation.value}}"
      });
    {% endfor %}

    {%for role in role_status_set %}
      gl_ac_role_list.push({ 
        key:"{{role.key}}",
        value: "{{role.value}}"
      });
    {% endfor %}


    {%for comment_status in status_set %}
      comment_statuses.push({
        comment_status:"{{comment_status.status_en}}",
        id:"/api/v1/statusUpdate/{{comment_status.id}}/",
        resource_uri:"/api/v1/statusUpdate/{{comment_status.id}}/"
      });
    {% endfor %}

    {%for label in labels_set.all %}
      gl_ac_labels_list.push({
        name_en:"{{label.name_en}}",
        id:"{{label.id}}",
        resource_uri:"/api/v1/label/{{label.id}}/"
      });
    {% endfor %}

    {%for user in users_set.all %}
      gl_ac_users_list.push({
        label:"{{user.username}}",
        id:"/api/v1/user/{{user.id}}/",
        resource_uri:"/api/v1/user/{{user.id}}/"
      });
    {% endfor %}

    {%for crime in crimes_set.all %}
      gl_ac_crimes_list.push({
        name_en:"{{crime.name_en}}",
        id:"{{crime.id}}",
        resource_uri:"/api/v1/crimeCategory/{{crime.id}}/"
      });
    {% endfor %}

    {%for source in sources_set.all %}
      special_global_ac_sources_list.push({
        name_en:"{{source.name_en}}",
        name_ar:"{{source.name_ar}}",
        id:"{{source.id}}",
        resource_uri:"/api/v1/source/{{source.id}}/"
      });
    {% endfor %}

    {%for loc in loc_set.all %}
      gl_ac_loc_set.push({
        
        {% autoescape off %}
        name_en:"{{loc.name_en}}",
        {% endautoescape %}
        name_ar:"{{loc.name_ar}}",
        latitude:"{{loc.latitude}}",
        longitude: "{{loc.longitude}}",
        loc_type: "{{loc.loc_type}}",
        parent_text: "{{parent_text}}",
        description_en: "{{description_en}}",
        description_ar: "{{description_ar}}",
        parent_location: "{{parent_location}}",
        resource_uri: "/api/v1/location/{{loc.id}}/"
      });
    {% endfor %}

    //consolidate our init data under one variable
    return {
        locale: locale,
        can_assign_users: can_assign_users,
        predefined_list: predefined_list,
        gl_s3_aws_media_url: '{{ MEDIA_URL }}',
        username: '{{username}}',
        userResource: '/api/v1/user/{{userid}}/',
        apiKey: '{{api_key}}',
        gl_userid: '{{userid}}',
        gl_ac_role_list: gl_ac_role_list,
        gl_ac_relation_list: gl_ac_relation_list,
        crimes: gl_ac_crimes_list,
        sources: special_global_ac_sources_list,
        labels: gl_ac_labels_list,
        locations: gl_ac_loc_set,
        gl_ac_users_list: gl_ac_users_list,
        comment_statuses: comment_statuses,
        solr_url: solr_url
    }

  }());
  </script>
