{% extends "new_base.html" %}

{% load i18n %}

{% block top_nav %}
  {% include "nav/top_menu.html" with reporting=True %}
{% endblock %}

{% block script %}
  <link rel="stylesheet" href="//cdnjs.bootcss.com/ajax/libs/nvd3/1.1.14-beta/nv.d3.css">
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.3.11/d3.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.14-beta/nv.d3.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  
  <script type="text/javascript">
    $(document).ready(function() {
      var data = {
        values: [
            { 
              "label": "Machine Created",
              "value" : 29
            } , 
            { 
              "label": "Human Created",
              "value" : 84
            } , 
            { 
              "label": "Updated",
              "value" : 32
            } , 
            { 
              "label": "Reviewed",
              "value" : 196
            } , 
            { 
              "label": "Finalized",
              "value" : 12
            }
          ]
        };
      
      nv.addGraph(function() {
        var width = 700,
            height = 500,
            chart = nv.models.pieChart()
                      .x(function(d) { return d.label })
                      .y(function(d) { return d.value })
                      .color(d3.scale.category10().range())
                      .width(width)
                      .height(height);

      d3.select("#chart svg")
          .datum(data.values)
        .transition().duration(1200)
          .attr('width', width)
          .attr('height', height)
          .call(chart);

        return chart;
      });
    });

  </script>
  <style>

    #chart  {
      width: 90%;
      background-color: white;
      margin: auto;
      border: 1px solid grey;
    }
    #chart svg {
      margin: auto;
    }
    #chart h4 {
      padding:10px;
      font-size: 16px;
    }

  </style>

{% endblock %}

{% block content%}
<nav id="monitor-navigation">

{% include "nav/reporting_tabs.html" %}

</nav>

<div id="reporting-content" class="columns as-2">
  <div class="col first">
    <div id="chart" class="graph-container">
    <h4>Bulletins by status</h4>
    <svg></svg></div>
  </div>
  <div class="col last right-filters">
  <div class="group is-filters filters">
    <div class="filter">
      <label>Bulletins by:</label>
      <select id="" name="">
      <option value="status">status</option>
      </select>
    </div>
  </div>
  <div class="group is-filters filters">
      <!-- enabled filters -->
      <div class="selected-incident-filters filter is-labels"><label id="incident-selected-label" class="hidden">Current Filters</label>
<ul id="incident-selected-tags" class="tags editor hidden">
</ul>
</div>

      <!-- filter groups go in here -->
      <div class="filter-groups">
        <div class="incident_searchable_locations_exact map-filter-container"><div><div id="incident_searchable_locations_exact-location-dropdown"><label>Incident Location</label>
<ul class="incident_searchable_locations_exact tags editor">

  <li class="incident_searchable_locations_exact is-new">
  <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span><input type="text" placeholder="" class="ui-autocomplete-input" autocomplete="off">
  <button class="drop-down-handle">
    <span aria-hidden="true" data-icon="d"></span>
    <span class="screen-reader-text">show Incident Location list</span>
  </button>
  </li>
</ul>
<select multiple="true" name="incident_searchable_locations_exact" class="hidden incident-field">
</select>

</div>
<div id="incident_searchable_locations_exact-location-map" class="map-filter is-map"><div class="map">
  <div class="location-display-map leaflet-container leaflet-fade-anim" style="width: 100%; height: 100%; position: relative;" tabindex="0"><div class="leaflet-map-pane" style="-webkit-transform: translate3d(0px, 0px, 0);"><div class="leaflet-tile-pane"><div class="leaflet-layer"><div class="leaflet-tile-container leaflet-zoom-animated"></div><div class="leaflet-tile-container leaflet-zoom-animated"><img class="leaflet-tile leaflet-tile-loaded" style="height: 256px; width: 256px; left: -120px; top: -52px;" src="http://a.tile.cloudmade.com/e76611fbacfb4bb2a8709c6e51201048/997/256/5/18/12.png"><img class="leaflet-tile leaflet-tile-loaded" style="height: 256px; width: 256px; left: 136px; top: -52px;" src="http://b.tile.cloudmade.com/e76611fbacfb4bb2a8709c6e51201048/997/256/5/19/12.png"><img class="leaflet-tile leaflet-tile-loaded" style="height: 256px; width: 256px; left: -120px; top: 204px;" src="http://b.tile.cloudmade.com/e76611fbacfb4bb2a8709c6e51201048/997/256/5/18/13.png"><img class="leaflet-tile leaflet-tile-loaded" style="height: 256px; width: 256px; left: 136px; top: 204px;" src="http://c.tile.cloudmade.com/e76611fbacfb4bb2a8709c6e51201048/997/256/5/19/13.png"></div></div></div><div class="leaflet-objects-pane"><div class="leaflet-shadow-pane"></div><div class="leaflet-overlay-pane"></div><div class="leaflet-marker-pane"></div><div class="leaflet-popup-pane"></div></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in">+</a><a class="leaflet-control-zoom-out" href="#" title="Zoom out">-</a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a></div></div></div></div>
</div>
</div>
</div></div>
<div class="dd-filters"></div>
<div class="standard-filters"><div class="filter"><label>Status</label>
<ul class="select" id="most_recent_status_incident_exact">
  <li class="option"><span class="text T" data-key="most_recent_status_incident_exact" data-filter="Finalized">
Finalized(1)
  </span>
  </li><li class="option"><span class="text T" data-key="most_recent_status_incident_exact" data-filter="Human Created">
Human Created(1)
  </span>
  </li></ul>
  </div><div class="filter"></div><div class="filter"><label>Assigned user</label>
  <ul class="select" id="incident_assigned_user_exact">
  <li class="option"><span class="text T" data-key="incident_assigned_user_exact" data-filter="cormac">
cormac(1)
  </span>
  </li><li class="option"><span class="text T" data-key="incident_assigned_user_exact" data-filter="unassigned">
unassigned(1)
  </span>
  </li></ul>
  </div><div class="filter"></div></div>
  <div class="date-range filter"><label>Incident Created between</label>
  <br>
  <input type="text" class="from-date hasDatepicker" name="from" id="dp1388501710996">
  <label for="to">and</label>
  <input type="text" class="to-date hasDatepicker" name="to" id="dp1388501710997">
  </div>
  </div>

  </div>

  </div>
  </div>
{% endblock %}
